<core:FragmentDefinition xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
                         xmlns:core="sap.ui.core"
                         xmlns:f="sap.ui.layout.form"
                         xmlns:l="sap.ui.layout"
                         xmlns:mvc="sap.ui.core.mvc"
                         xmlns:t="sap.ui.table"
                         xmlns:timeline="sap.suite.ui.commons"
                         xmlns="sap.m">

  <Toolbar design="Transparent"
           ariaLabelledBy="headerToolbar"
           class="osrRegistrationBar">
    <Title level="H3"
           text="{i18n>headercontent.history} {viewModel>/STD_NAME_ORG1} {viewModel>/STD_NAME_ORG2} {viewModel>/STD_NAME_ORG3} {viewModel>/STD_NAME_ORG4}" />
    <ToolbarSpacer />
    <Title level="H3"
           text="{i18n>headercontent.scvid} {viewModel>/SCV_ID}" />
  </Toolbar>

  <t:Table id="history-address-table"
           selectionMode="None"
           rows="{metaData>/Results}"
           visibleRowCount="15"
           enableCellFilter="true"
           enableSelectAll="false"
           enableBusyIndicator="true"
           ariaLabelledBy="title"
           visible="{= ${viewModel>/SHOW_HISTORY_TABLE} === true}">

    <t:columns>
      <t:Column sortProperty="META_FILE_NAME"
                autoResizable="true"
                filterProperty="META_FILE_NAME">
        <Label text="{i18n>source.file_name}" />
        <t:template>
          <Text text="{path:'metaData>META_FILE_NAME', formatter:'.Formatters.formatAddressKind'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="TIMESTAMP"
                autoResizable="true"
                filterProperty="TIMESTAMP">
        <Label text="{i18n>source.timestamp}" />
        <t:template>
          <Text text="{metaData>TIMESTAMP}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="SOURCE"
                autoResizable="true"
                filterProperty="SOURCE">
        <Label text="{i18n>source.provider}" />
        <t:template>
          <Text text="{metaData>SOURCE}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="RAF_TABLE_NAME"
                autoResizable="true"
                filterProperty="RAF_TABLE_NAME">
        <Label text="{i18n>source.table_name}" />
        <t:template>
          <Text text="{metaData>RAF_TABLE_NAME}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="RAF_FILE_NAME"
                autoResizable="true"
                filterProperty="RAF_FILE_NAME">
        <Label text="{i18n>source.file_name}" />
        <t:template>
          <Text text="{metaData>RAF_FILE_NAME}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="SOURCE_FIELD_VALUE"
                autoResizable="true"
                filterProperty="SOURCE_FIELD_VALUE">
        <Label text="{i18n>source.source_field_value}" />
        <t:template>
          <Text text="{metaData>SOURCE_FIELD_VALUE}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="FREQUENCY"
                autoResizable="true"
                filterProperty="FREQUENCY">
        <Label text="{i18n>source.frequency}" />
        <t:template>
          <Text text="{path:'metaData>FREQUENCY'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="ROW_COUNTS"
                autoResizable="true"
                filterProperty="ROW_COUNTS">
        <Label text="{i18n>source.row_counts}" />
        <t:template>
          <Text text="{path:'metaData>ROW_COUNTS'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="YEAR_TYPE"
                autoResizable="true"
                filterProperty="YEAR_TYPE">
        <Label text="{i18n>source.year_type}" />
        <t:template>
          <Text text="{path:'metaData>YEAR_TYPE'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="FILE_RECEIVED"
                autoResizable="true"
                filterProperty="FILE_RECEIVED">
        <Label text="{i18n>source.file_received}" />
        <t:template>
          <Text text="{path:'metaData>FILE_RECEIVED'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="FROM_DATE"
                autoResizable="true"
                filterProperty="FROM_DATE">
        <Label text="{i18n>source.from_date}" />
        <t:template>
          <Text text="{path:'metaData>FROM_DATE', formatter:'.Formatters.formatDateObjectToString'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="TO_DATE"
                autoResizable="true"
                filterProperty="TO_DATE">
        <Label text="{i18n>source.to_date}" />
        <t:template>
          <Text text="{path:'metaData>TO_DATE', formatter:'.Formatters.formatDateObjectToString'}"
                wrapping="false" />
        </t:template>
      </t:Column>

      <t:Column sortProperty="DATA_SET_TYPE"
                autoResizable="true"
                filterProperty="DATA_SET_TYPE">
        <Label text="{i18n>source.data_set_type}" />
        <t:template>
          <Text text="{path:'metaData>DATA_SET_TYPE', formatter:'.Formatters.formatDateObjectToString'}"
                wrapping="false" />
        </t:template>
      </t:Column>

		<t:Column autoResizable="true" >
	        <Label text="" />
	        <t:template>
	          <Button text="Edit"
                          press="onEditEntry"
                          icon="sap-icon://add"
                          ariaDescribedBy="addNewSourceButton"
                          app:metadataId="{path:'metaData>METADATA_ID'}" />
	        </t:template>
	      </t:Column>

    </t:columns>

  </t:Table>



</core:FragmentDefinition>
